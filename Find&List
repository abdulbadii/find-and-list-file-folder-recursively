#! /usr/bin/bash
l(){
o=%p;i=
for a
{
let i++
case ${a:0:3} in
	-s) o='%s %p';;
	-t) o='%p %t';;
	-st|-ts) o="%s %p %t";;
	*)
	if [ ! -e $a ] ;then
		a=${a//./\\.};a=${a//\*/.*}
		find ~+ -regextype posix-extended -iregex "^.*/${a//\?/.}.*" -printf "$o \n"
	else
		a=${@:$i}
		if test "${a:0:1}" = / ;then
			b=${@:$i:1};	c=${@:${#@}};
			IFS=$'/';	c=($c)	;j=;p=
			for h in ${b:1}
			{	let j++;[ $h != ${c[$j]} ]&&break
				p=$p/$h
			}
			a="(${a// /|})"
			unset IFS
		else p=~+; a="^.*/(${a// /|})"
		fi
		find $p -regextype posix-extended -iregex "$a" -printf "$o \n"
	fi
	return;;
esac
}
}
